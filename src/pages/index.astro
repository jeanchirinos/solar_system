---
import { getPlanets } from '@/api/getPlanets'
import Layout from '@/layouts/Layout.astro'
import { Image } from 'astro:assets'
import { ShowPlanetLink } from '@/components/ShowPlanetLink'
import { PlanetName } from '@/types/Planet'

const { planets } = await getPlanets()

const earth = planets.find(planet => planet.name === PlanetName.Tierra)!
---

<Layout>
  <main
    class='mx-auto grid h-dvh max-h-[1000px] min-h-[500px] max-w-[1600px] grid-cols-1 grid-rows-[auto_minmax(0,1fr)] gap-y-12 px-4 py-2'
  >
    <header
      class='mx-auto flex w-fit rounded-lg border border-neutral-800 bg-[#1B1B1B]/80 text-neutral-300 backdrop-blur-lg *:px-3 *:py-2 hover:*:text-white md:*:px-6'
    >
      <a
        href='https://github.com/jeanchirinos/solar_system'
        target='_blank'
        class='flex items-center gap-x-1.5'
      >
        <span>Github</span>
        <svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 24 24'
          ><path
            fill='currentColor'
            d='M14 3v2h3.59l-9.83 9.83l1.41 1.41L19 6.41V10h2V3m-2 16H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7h-2z'
          ></path></svg
        >
      </a>
      <a
        href='https://api-sistemasolar.vercel.app/'
        target='_blank'
        class='flex items-center gap-x-1.5'
      >
        <span>API</span>
        <svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 24 24'
          ><path
            fill='currentColor'
            d='M14 3v2h3.59l-9.83 9.83l1.41 1.41L19 6.41V10h2V3m-2 16H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7h-2z'
          ></path></svg
        >
      </a>
    </header>
    <div class='flex flex-col items-center gap-y-10'>
      <section class='flex flex-col items-center gap-y-4'>
        <div class='text-center'>
          <span class='text-xl font-light uppercase sm:text-2xl'>Planeta</span>
          <h2 class='text-4xl font-black uppercase sm:text-6xl' transition:name='planet_name'>
            {earth.name}
          </h2>
        </div>

        <p class='max-w-prose'>{earth.description}</p>

        <ShowPlanetLink client:load />
      </section>
      <Image src={earth.webp!} alt={earth.name} inferSize transition:name='planeta_initial' />
    </div>
  </main>
</Layout>
